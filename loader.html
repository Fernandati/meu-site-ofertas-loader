<!DOCTYPE html>
<html>
<head>
  <title>Carregando Ofertas...</title>
  <style>
    body { margin: 0; padding: 0; overflow: hidden; background-color: #f0f2f5; display: flex; justify-content: center; align-items: center; height: 100vh; font-family: Arial, sans-serif; color: #333; }
    .loader { border: 8px solid #f3f3f3; border-top: 8px solid #3498db; border-radius: 50%; width: 50px; height: 50px; animation: spin 1s linear infinite; }
    @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
  </style>
</head>
<body>
  <div class="loader"></div>
  <script>
    // URL BASE DO SEU APPS SCRIPT WEB APP
    const APPS_SCRIPT_WEB_APP_URL_BASE = "https://script.google.com/macros/s/AKfycbz_ViFleYP5e4-u_VkQG6SV_fagkNPXo96HYJ2Bjc9LjqaDQl7s8iY0RFSC3i5f5k1qtQ/exec"; // <-- COLOQUE AQUI A URL DO SEU DEPLOY DO APPS SCRIPT

    // Obtém o hash (âncora) da URL da página principal do loader
    const currentHash = window.location.hash; // Ex: "#ID_DA_OFERTA"

    console.log("Loader: Hash capturado da URL do loader:", currentHash);

    let finalAppsScriptUrl = APPS_SCRIPT_WEB_APP_URL_BASE;

    // --- MUDANÇA CRUCIAL AQUI ---
    if (currentHash) {
        const productIdFromHash = currentHash.substring(1); // Remove o '#'
        // Adiciona o ID como um parâmetro de consulta (?id=)
        finalAppsScriptUrl += "?id=" + encodeURIComponent(productIdFromHash);
    }
    // ----------------------------

    console.log("Loader: URL final do Apps Script com PARÂMETRO para redirecionar:", finalAppsScriptUrl);

    // Mantenha window.location.href, pois ele é mais direto para redirecionamentos
    window.location.href = finalAppsScriptUrl;
  </script>
</body>
</html>
