<!DOCTYPE html>
<html>
<head>
  <title>Carregando Ofertas...</title>
  <style>
    body { margin: 0; padding: 0; overflow: hidden; background-color: #f0f2f5; display: flex; justify-content: center; align-items: center; height: 100vh; font-family: Arial, sans-serif; color: #333; }
    .loader { border: 8px solid #f3f3f3; border-top: 8px solid #3498db; border-radius: 50%; width: 50px; height: 50px; animation: spin 1s linear infinite; }
    @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
  </style>
</head>
<body>
  <div class="loader"></div>
  <script>
    // URL BASE DO SEU APPS SCRIPT WEB APP (SEM PARÂMETROS)
    const APPS_SCRIPT_WEB_APP_URL_BASE = "https://script.google.com/macros/s/AKfycbz_ViFleYP5e4-u_VkQG6SV_fagkNPXo96HYJ2Bjc9LjqaDQl7s8iY0RFSC3i5f5k1qtQ/exec"; // <-- COLOQUE AQUI A URL DO SEU DEPLOY DO APPS SCRIPT

    const currentHash = window.location.hash;
    const productIdFromHash = currentHash ? currentHash.substring(1) : null;

    console.log("Loader: Hash capturado da URL do loader:", currentHash);
    console.log("Loader: ID do produto do hash:", productIdFromHash);

    if (productIdFromHash) {
        // Salva o ID no localStorage para o Apps Script ler
        localStorage.setItem('scrollProductId', productIdFromHash);
        console.log("Loader: ID salvo no localStorage:", productIdFromHash);
    } else {
        localStorage.removeItem('scrollProductId'); // Limpa se não houver hash
    }

    // Redireciona para a URL base do Apps Script (sem parâmetros, eles seriam limpos de qualquer forma)
    window.location.href = APPS_SCRIPT_WEB_APP_URL_BASE;
    console.log("Loader: Redirecionando para a URL base do Apps Script:", APPS_SCRIPT_WEB_APP_URL_BASE);
  </script>
</body>
</html>
